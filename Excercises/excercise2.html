<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>THE KING</h1>
</body>
<script>

       // COMBINED RESULT USING PROMISE ALL 

    //    const apiUrls =["https://api.publicapis.org/entries","https://catfact.ninja/fact","https://api.coindesk.com/v1/bpi/currentprice.json","https://www.boredapi.com/api/activity","https://www.boredapi.com/api/activity"]
       
        
    //    const api2 =  fetch("https://api.publicapis.org/entries")
    //    const api3 =  fetch("https://catfact.ninja/fact");
    //    const api4 =  fetch("https://api.coindesk.com/v1/bpi/currentprice.json");
       const api1 =  fetch("https://www.boredapi.com/api/activity");
       
    //    const apiurl2 =  [api1,api2,api3,api4];
      
    //    function fetchData(){
    //     const resp  =  apiurl2.map(response => response.json());
    //     const  promises  = Promise.all(resp);
    //     console.log("Promise ",promises);
    //  }  

    //  fetchData();

//   function  fetchApi(url){
//     return   fetch(url)
//     .then((response)=>{
//         if(!response.ok){
//         throw new Error("Error ",response);
//         }
//         return response.json();
//     });
//   }

//   function fetchMultiurl(apiUrls){
//      const promises = apiUrls.map((url)=> fetchApi(url));
    //  return Promise.all(promises); 
//   }

//   fetchMultiurl(apiUrls)
//   .then(results =>{
//     console.log("Combined Results : ",results);
//   })
//   .catch(err  => console.log("Error : ",err.message));

// function fetchUrl(url,count,cb){
//    setTimeout(()=>{
//        fetch(url)
//        .then((resp)=>{
//        if(!resp.ok){
//         cb(count);
//         count++;
//        }
//        return resp.json();
//          })
//    },2000)
// }

// function callback(count){
//     if(count<3){
//     fetchUrl()
//     }
// }
 

// function mainFunction(url,maxretries){
//     return new Promise((resolve,reject)=>{
//         let retries = 1;
//         const fetchData= () =>{
//             fetch(url)
//             .then(response=>{
//                 if(!response.ok){
//                     throw new Error(`HTTP response status ${response.status}`);
//                 }
//                 return response.json();
//             })
//             .then(data =>{
//                 resolve(data);
//             })
//             .catch(err =>{
//                 retries++;
//                 if(retries<maxretries){
//                     console.log(`Retrying the url ${retries}th times ` );
//                     fetchData();
//                 }else{
//                     reject(new Error(`Failed after ${maxretries} retries `))
//                 }
//             })
//         }
//         fetchData();
//     })
// }
let url  =  "https://catfact.ninja/fact";
// mainFunction(url,10)
// .then(response=>{
//     console.log(response);
// })
// .catch((err=>{
//     console.log("Error ",err);
// }))

//  function mainFunction(fn,interval){
   
//     const intervalReference   =  setInterval(fn,interval);

//     return intervalReference;
//  }
//  function hii(){
//     console.log("HELLo");
//  }

//  const id =  mainFunction(hii,2000);
//  setTimeout(()=>{
//     clearInterval(id)
//  },10000)

// function timeOut(url){
//     return new Promise((resolve,reject)=>{
//         fetch(url)
//         .then((data)=>{
//            return data.json();
//         }).then((resp)=>{
//             resolve(resp);
//         })
//         setTimeout(()=>{
//             reject("Time Out ")
//         },1000)
//     })
// }

// timeOut(url)
// .then((data)=>{
//     console.log(data)
// })
// .catch(err=>
//     console.log("Error ",err)
// )

</script>
</html>